<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.10: http://docutils.sourceforge.net/" />
<title>TurboGag Tutorial</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7514 2012-09-14 14:27:12Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="turbogag-tutorial">
<h1 class="title">TurboGag Tutorial</h1>

<div class="section" id="letting-users-upload-submissions">
<h1>Letting users upload submissions</h1>
<p>Now we are going to let users upload submissions and we are going to enjoy some reddit re-posts. TurboGears controllers are Python classes inheriting from a special class called BaseController. Giving it a meaningful name is important. For example, the Root Controller is the controller class responding to the calls of your requested url path starting with &quot;/&quot; right after your domain. For example <a class="reference external" href="http://turbogag.com/submissions">http://turbogag.com/submissions</a> automatically maps to a child controller class or a class method called submissions.</p>
<p>We are going to create a submissions controller but first let's decide what actions we are going to have in it.</p>
<ul class="simple">
<li>Our users will be able to post submissions. (create)</li>
<li>A user will be able to update his submission. (update)</li>
<li>A manager/moderator of TurboGag will be able to approve, update or delete user submissions. (moderate)</li>
<li>Users will be able to comment on submissions.</li>
</ul>
<pre class="code python literal-block">
    <span class="comment"># -*- coding: utf-8 -*-</span>
<span class="literal string doc">&quot;&quot;&quot;Submissions controller module&quot;&quot;&quot;</span>

<span class="keyword namespace">from</span> <span class="name namespace">tg</span> <span class="keyword namespace">import</span> <span class="name">expose</span><span class="punctuation">,</span> <span class="name">redirect</span><span class="punctuation">,</span> <span class="name">validate</span><span class="punctuation">,</span> <span class="name">flash</span>
<span class="keyword namespace">from</span> <span class="name namespace">tg</span> <span class="keyword namespace">import</span> <span class="name">predicates</span>

<span class="keyword namespace">from</span> <span class="name namespace">turbogag.lib.base</span> <span class="keyword namespace">import</span> <span class="name">BaseController</span>
<span class="keyword namespace">from</span> <span class="name namespace">turbogag.model</span> <span class="keyword namespace">import</span> <span class="name">DBSession</span><span class="punctuation">,</span> <span class="name">metadata</span>
<span class="keyword namespace">from</span> <span class="name namespace">turbogag.model.submission</span> <span class="keyword namespace">import</span> <span class="name">Channel</span><span class="punctuation">,</span> <span class="name">Submission</span><span class="punctuation">,</span> <span class="name">Vote</span><span class="punctuation">,</span> <span class="name">Comment</span>

<span class="keyword">class</span> <span class="name class">SubmissionsController</span><span class="punctuation">(</span><span class="name">BaseController</span><span class="punctuation">):</span>

    <span class="name decorator">&#64;expose</span><span class="punctuation">(</span><span class="literal string">&quot;turbogag.templates.submissions.new&quot;</span><span class="punctuation">)</span>
    <span class="keyword">def</span> <span class="name function">new</span><span class="punctuation">(</span><span class="name builtin pseudo">self</span><span class="punctuation">):</span>
        <span class="name">channels</span> <span class="operator">=</span> <span class="name">DBSession</span><span class="operator">.</span><span class="name">query</span><span class="punctuation">(</span><span class="name">Channel</span><span class="punctuation">)</span><span class="operator">.</span><span class="name">all</span><span class="punctuation">()</span>
        <span class="keyword">return</span> <span class="name builtin">dict</span><span class="punctuation">(</span><span class="name">channels</span><span class="operator">=</span><span class="name">channels</span><span class="punctuation">)</span>

    <span class="name decorator">&#64;expose</span><span class="punctuation">()</span>
    <span class="keyword">def</span> <span class="name function">create</span><span class="punctuation">(</span><span class="name builtin pseudo">self</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">,</span> <span class="name">content_type</span><span class="punctuation">,</span> <span class="name">image_url</span><span class="operator">=</span><span class="literal string">&quot;&quot;</span><span class="punctuation">,</span> <span class="name">video_url</span><span class="operator">=</span><span class="literal string">&quot;&quot;</span><span class="punctuation">):</span>
        <span class="name">submission</span> <span class="operator">=</span> <span class="name">Submission</span><span class="punctuation">(</span><span class="name">title</span><span class="operator">=</span><span class="name">title</span><span class="punctuation">,</span> <span class="name">content_type</span><span class="operator">=</span><span class="name">content_type</span><span class="punctuation">,</span> <span class="name">image_url</span><span class="operator">=</span><span class="name">image_url</span><span class="punctuation">,</span> <span class="name">video_url</span><span class="operator">=</span><span class="name">video_url</span><span class="punctuation">,</span> <span class="name">is_active</span><span class="operator">=</span><span class="name builtin pseudo">False</span><span class="punctuation">)</span>
        <span class="name">DBSession</span><span class="operator">.</span><span class="name">add</span><span class="punctuation">(</span><span class="name">submission</span><span class="punctuation">)</span>
        <span class="name">DBSession</span><span class="operator">.</span><span class="name">flush</span><span class="punctuation">()</span>
        <span class="name">flash</span><span class="punctuation">(</span><span class="literal string">&quot;Your submission has been received. It will be approved in a short notice.&quot;</span><span class="punctuation">)</span>
        <span class="keyword">return</span> <span class="name">redirect</span><span class="punctuation">(</span><span class="literal string">&quot;/&quot;</span><span class="punctuation">)</span>

    <span class="name decorator">&#64;expose</span><span class="punctuation">(</span><span class="literal string">&quot;turbogag.templates.submissions.edit&quot;</span><span class="punctuation">)</span>
    <span class="keyword">def</span> <span class="name function">edit</span><span class="punctuation">(</span><span class="name builtin pseudo">self</span><span class="punctuation">,</span> <span class="name">submission_id</span><span class="punctuation">):</span>
        <span class="keyword">pass</span>

    <span class="name decorator">&#64;expose</span><span class="punctuation">()</span>
    <span class="keyword">def</span> <span class="name function">update</span><span class="punctuation">(</span><span class="name builtin pseudo">self</span><span class="punctuation">,</span> <span class="name builtin">id</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">,</span> <span class="name">content</span><span class="punctuation">,</span> <span class="name">status</span><span class="punctuation">):</span>
        <span class="keyword">pass</span>

    <span class="name decorator">&#64;expose</span><span class="punctuation">()</span>
    <span class="keyword">def</span> <span class="name function">delete</span><span class="punctuation">(</span><span class="name builtin pseudo">self</span><span class="punctuation">,</span> <span class="name builtin">id</span><span class="punctuation">):</span>
        <span class="keyword">pass</span>
</pre>
<p>In the code above, we have created class methods named &quot;new&quot;, &quot;create&quot;, &quot;edit&quot;, &quot;update&quot; and &quot;destroy&quot;. This class methods will be available to the users in the form of <a class="reference external" href="http://turbogag.com/submissions">http://turbogag.com/submissions</a>/{method_name} however for now there are only two actions available for our users to play with.</p>
<ol class="arabic simple">
<li>In the <tt class="docutils literal">new</tt> method we are getting a list of channels from the database and passing the channels list as a <tt class="docutils literal">local template variable</tt> to our new.jinja template.</li>
<li>In the <tt class="docutils literal">create</tt> method, we let our users send request parameters <tt class="docutils literal">title</tt>, <tt class="docutils literal">content_type</tt>, <tt class="docutils literal">image_url</tt> and <tt class="docutils literal">video_url</tt>.</li>
<li>We are creating an instance of our <tt class="docutils literal">Submission model</tt> and saving it to the database.</li>
<li>We are redirecting the user to our index page with a notification we will be displaying.</li>
</ol>
</div>
<div class="section" id="embedding-new-controllers">
<h1>Embedding new controllers</h1>
<p>If you tried accessing one of these pages via the browser, you will get a 404 error. In order to access those controllers, you have to introduce them to the RootController. Open your <tt class="docutils literal">turbogag/controllers/root.py</tt> file and add the following line as an attribute.</p>
<pre class="code python literal-block">
<span class="comment"># import the controller first</span>
<span class="keyword namespace">from</span> <span class="name namespace">turbogag.controllers.submissions</span> <span class="keyword namespace">import</span> <span class="name">SubmissionsController</span>
<span class="name">submissions</span> <span class="operator">=</span> <span class="name">SubmissionsController</span><span class="punctuation">()</span>
</pre>
<p>Now if you re-visit <a class="reference external" href="http://127.0.0.1:8080/submissions/new">http://127.0.0.1:8080/submissions/new</a> you will be able to access this controller action. You will get an another error that we will fix in the next steps.</p>
</div>
<div class="section" id="something-exposed-comes-this-way">
<h1>Something exposed comes this way</h1>
<p>If you have used Ruby on Rails, Django, Pylons or Pyramid there is a question in your head right from the beginning. I know that. Been there, done that. Where do I set my routes? TurboGears does not have a routing mechanism. &quot;Whoa sir, I'm afraid I cannot continue&quot; you might think. No, not yet. TurboGears uses object dispatch which means every attribute in your RootController is a path of the url. Let's inspect the previous url: <a class="reference external" href="http://127.0.0.1:8080/submissions/new">http://127.0.0.1:8080/submissions/new</a>.</p>
<ul class="simple">
<li>You visit <a class="reference external" href="http://127.0.0.1:8080/submissions/new">http://127.0.0.1:8080/submissions/new</a></li>
<li>TurboGears looks at the RootController</li>
<li>It looks for the submissions attribute in RootController</li>
<li>If it does not find an attribute or a method named submissions, it returns 404.</li>
<li>If it finds it TurboGears calls that attribute</li>
<li>It looks for another attribute &quot;new&quot; in SubmissionsController</li>
<li>It returns it.</li>
</ul>
<p>This basically means that you don't need to setup any routing for your application. Yes, that's right, that is totally cool. The expose decorator exposes that controller method to the web. If you don't decorate a method with &quot;expose&quot;, it won't be accessible to the web and will just be a callable of your class.</p>
</div>
<div class="section" id="creating-templates">
<h1>Creating templates</h1>
<p>Now that we have our controllers working for us, we can start building our forms and templates and fix all those errors.</p>
<div class="section" id="a-taste-of-jquery-and-twitter-bootstrap">
<h2>A taste of jQuery and Twitter Bootstrap</h2>
<p>TurboGears 2.x comes with Twitter Bootstrap however for JavaScript goodness to work, we will include two libraries in our <tt class="docutils literal">master.jinja</tt> template -which can be found at <tt class="docutils literal">turbogag/templates</tt> directory-. Right before the <tt class="docutils literal">&lt;/head&gt;</tt> line in master.jinja file, add these two lines:</p>
<pre class="code html literal-block">
<span class="name tag">&lt;script </span><span class="name attribute">type=</span><span class="literal string">&quot;text/javascript&quot;</span> <span class="name attribute">src=</span><span class="literal string">&quot;//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js&quot;</span><span class="name tag">&gt;&lt;/script&gt;</span>
<span class="name tag">&lt;script </span><span class="name attribute">type=</span><span class="literal string">&quot;text/javascript&quot;</span> <span class="name attribute">src=</span><span class="literal string">&quot;{{ tg.url('/javascript/bootstrap.js') }}&quot;</span><span class="name tag">&gt;&lt;/script&gt;</span>
</pre>
</div>
<div class="section" id="creating-a-new-template">
<h2>Creating a new template</h2>
<p>In the <cite>turbogag/templates</cite> folder, create a new directory called <cite>submissions</cite> and create two files.</p>
<ol class="arabic simple">
<li>__init__.py so it becomes a package.</li>
<li>new.jinja file.</li>
</ol>
<pre class="code bash literal-block">
<span class="name builtin">cd</span> ~/projects/tg2-env/turbogag
<span class="name builtin">cd </span>turbogag/templates
mkdir submissions
touch submissions/__init__.py
touch Submissions/new.jinja
</pre>
<p>The following code snippet goes to <tt class="docutils literal">templates/submissions/new.jinja</tt> file:</p>
<pre class="code jinja literal-block">
<span class="comment preproc">{%</span> <span class="keyword">extends</span> <span class="literal string double">&quot;master.jinja&quot;</span> <span class="comment preproc">%}</span><span class="other">

</span><span class="comment preproc">{%</span> <span class="keyword">block</span> <span class="name variable">master_title</span> <span class="comment preproc">%}</span><span class="other">Upload fun</span><span class="comment preproc">{%</span> <span class="keyword">endblock</span> <span class="comment preproc">%}</span><span class="other">

</span><span class="comment preproc">{%</span> <span class="keyword">block</span> <span class="name variable">contents</span> <span class="comment preproc">%}</span><span class="other">

    &lt;ul class=&quot;nav nav-tabs&quot; id=&quot;formTab&quot;&gt;
        &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;#pic&quot; data-toggle=&quot;tab&quot;&gt;Picture&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;#video&quot; data-toggle=&quot;tab&quot;&gt;Video&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;


    &lt;div class=&quot;tab-content&quot;&gt;
        &lt;div id=&quot;pic&quot; class=&quot;tab-pane active&quot;&gt;
            &lt;form class=&quot;form-horizontal&quot; method=&quot;post&quot; action=&quot;</span><span class="comment preproc">{{</span> <span class="name variable">url</span><span class="operator">(</span><span class="literal string double">&quot;/submissions/create&quot;</span><span class="operator">)</span> <span class="comment preproc">}}</span><span class="other">&quot;&gt;
                &lt;input type=&quot;hidden&quot; name=&quot;content_type&quot; value=&quot;image&quot; /&gt;
                &lt;div class=&quot;control-group&quot;&gt;
                    &lt;label class=&quot;control-label&quot; for=&quot;title&quot;&gt;Post Title:&lt;/label&gt;
                    &lt;div class=&quot;controls&quot;&gt;
                        &lt;input type=&quot;text&quot; name=&quot;title&quot; class=&quot;span5&quot; /&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;control-group&quot;&gt;
                    &lt;label class=&quot;control-label&quot; for=&quot;image_url&quot;&gt;Image URL:&lt;/label&gt;
                    &lt;div class=&quot;controls&quot;&gt;
                        &lt;input type=&quot;text&quot; name=&quot;image_url&quot; class=&quot;span5&quot; /&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;control-group&quot;&gt;
                    &lt;label class=&quot;control-label&quot; for=&quot;channel&quot;&gt;Channel:&lt;/label&gt;
                    &lt;div class=&quot;controls&quot;&gt;
                        &lt;div class=&quot;btn-group&quot; data-toggle=&quot;buttons-radio&quot;&gt;
                            </span><span class="comment preproc">{%</span> <span class="keyword">for</span> <span class="name variable">channel</span> <span class="keyword">in</span> <span class="name variable">channels</span> <span class="comment preproc">%}</span><span class="other">
                            &lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot;&gt;</span><span class="comment preproc">{{</span> <span class="name variable">channel.channel_name</span> <span class="comment preproc">}}</span><span class="other">&lt;/button&gt;
                            </span><span class="comment preproc">{%</span> <span class="keyword">endfor</span> <span class="comment preproc">%}</span><span class="other">
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;control-group&quot;&gt;
                    &lt;div class=&quot;controls&quot;&gt;
                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/form&gt;
        &lt;/div&gt;
        &lt;div id=&quot;video&quot; class=&quot;tab-pane&quot;&gt;
            &lt;form class=&quot;form-horizontal&quot; method=&quot;post&quot; action=&quot;</span><span class="comment preproc">{{</span> <span class="name variable">url</span><span class="operator">(</span><span class="literal string double">&quot;/submissions/create&quot;</span><span class="operator">)</span> <span class="comment preproc">}}</span><span class="other">&quot;&gt;
                &lt;input type=&quot;hidden&quot; name=&quot;content_type&quot; value=&quot;video&quot; /&gt;
                &lt;div class=&quot;control-group&quot;&gt;
                    &lt;label class=&quot;control-label&quot; for=&quot;title&quot;&gt;Video Title:&lt;/label&gt;
                    &lt;div class=&quot;controls&quot;&gt;
                        &lt;input type=&quot;text&quot; name=&quot;title&quot; class=&quot;span5&quot; /&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;control-group&quot;&gt;
                    &lt;label class=&quot;control-label&quot; for=&quot;image_url&quot;&gt;Video URL:&lt;/label&gt;
                    &lt;div class=&quot;controls&quot;&gt;
                        &lt;input type=&quot;text&quot; name=&quot;video_url&quot; class=&quot;span5&quot; /&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;control-group&quot;&gt;
                    &lt;label class=&quot;control-label&quot; for=&quot;channel&quot;&gt;Channel:&lt;/label&gt;
                    &lt;div class=&quot;controls&quot;&gt;
                        &lt;div class=&quot;btn-group&quot; data-toggle=&quot;buttons-radio&quot;&gt;
                            </span><span class="comment preproc">{%</span> <span class="keyword">for</span> <span class="name variable">channel</span> <span class="keyword">in</span> <span class="name variable">channels</span> <span class="comment preproc">%}</span><span class="other">
                            &lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot;&gt;</span><span class="comment preproc">{{</span> <span class="name variable">channel.channel_name</span> <span class="comment preproc">}}</span><span class="other">&lt;/button&gt;
                            </span><span class="comment preproc">{%</span> <span class="keyword">endfor</span> <span class="comment preproc">%}</span><span class="other">
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;control-group&quot;&gt;
                    &lt;div class=&quot;controls&quot;&gt;
                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/form&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;script type=&quot;text/javascript&quot;&gt;
    $(function(){
        $(&quot;#formTab&quot;).tab();
    });
    &lt;/script&gt;

</span><span class="comment preproc">{%</span> <span class="keyword">endblock</span> <span class="comment preproc">%}</span>
</pre>
<p>Now visit <a class="reference external" href="http://127.0.0.1:8080/submissions/new">http://127.0.0.1:8080/submissions/new</a> and try creating a new submission. Your page will look like this:</p>
<img alt="resources/new_submission.png" src="resources/new_submission.png" style="height: 500px;" />
</div>
</div>
</div>
</body>
</html>
